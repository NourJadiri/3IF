[{"kind":1,"language":"markdown","value":"# Step 1\r\nthe official names (country_name/offic_name) of the countries"},{"kind":2,"language":"xpath","value":"//country/country_name/offic_name! string()"},{"kind":1,"language":"markdown","value":"the latitude of each country"},{"kind":2,"language":"xpath","value":"//country/coordinates/@lat! string()"},{"kind":1,"language":"markdown","value":"the area of each country"},{"kind":2,"language":"xpath","value":"//country/@area! string()"},{"kind":1,"language":"markdown","value":"the official names of European countries (continent = Europe)"},{"kind":2,"language":"xpath","value":"//country/country_name/offic_name[../../infosContinent/continent = \"Europe\"]! string()"},{"kind":1,"language":"markdown","value":"the common names of countries that do not have any native name"},{"kind":2,"language":"xpath","value":"//country/country_name/common_name[not(../native_name)]! string()"},{"kind":1,"language":"markdown","value":"the official names of the countries expressed in French, for those who have such names"},{"kind":2,"language":"xpath","value":"//country/country_name/native_name[@lang = \"fra\"]/offic_name! string()"},{"kind":1,"language":"markdown","value":"elements with at least one attribute"},{"kind":1,"language":"markdown","value":"- `//*`: Selects all elements in the document. The * symbol represents a wildcard that matches any element name.\r\n\r\n- `[descendant-or-self::*//@*]`: Narrows down the selection to elements that have at least one descendant or self that has one or more attributes.\r\n\r\n- The `descendant-or-self::*` axis selects the element itself and all of its descendants. \r\n\r\n- The `//@*` expression selects all attributes that belong to any descendant element."},{"kind":2,"language":"xpath","value":"//*[descendant-or-self::*//@*]"},{"kind":2,"language":"xpath","value":"//@*/.."},{"kind":1,"language":"markdown","value":"official names of the second native name of countries (for those who have)"},{"kind":2,"language":"xpath","value":"//country/country_name/native_name[position() = 2]/offic_name! string()"},{"kind":1,"language":"markdown","value":"the sum of the surfaces (area) of the countries of Africa"},{"kind":2,"language":"xpath","value":"sum(//country[infosContinent/continent = \"Africa\"]/@area)"},{"kind":1,"language":"markdown","value":"countries whose common name is not contained in their official name"},{"kind":2,"language":"xpath","value":"//country[not(contains(country_name/offic_name,country_name/common_name))]/country_name/offic_name! string()"},{"kind":1,"language":"markdown","value":"France's last neighbor"},{"kind":2,"language":"xpath","value":"//country[country_name/common_name = \"France\"]/borders/neighbour[position() = last()]! string()"},{"kind":1,"language":"markdown","value":"the position of France in the XML document\r\n\r\nTo get the position of an element in an XML document using XPath, one can use the count() function to count the number of preceding siblings of the element and add 1 to get the position."},{"kind":2,"language":"xpath","value":"count(//country[country_name/common_name = \"France\"]/preceding-sibling::*) + 1 "},{"kind":1,"language":"markdown","value":"# Step 2\r\n\r\nSome child elements of the element country are indicated with a minimum occurrence of 0 (*) whereas they are present everywhere. Find them and modify the DTD accordingly. Give the modified definition of their parent elements.\r\n\r\n```dtd\r\n<!ELEMENT country (country_name,tld*,country_codes,currency*,callingCode*,\r\n                   capital,altSpellings*, infosContinent*,languages*,\r\n                   coordinates*,demonym,landlocked,borders*)>\r\n\r\n<!ELEMENT country_name (common_name,offic_name,native_name*)>\r\n\r\n<!ELEMENT infosContinent (continent*,subregion*) >\r\n\r\n<!ELEMENT borders (neighbour*)>\r\n```\r\n\r\nThe elements that have a minimum occurence of 0 are:\r\n- <b>Country :</b>\r\n    - tld\r\n    - currency\r\n    - callingCode\r\n    - altSpellings\r\n    - infoContinent\r\n    - languages\r\n    - coordinates\r\n    - borders\r\n"},{"kind":2,"language":"xpath","value":"distinct-values(//country/count(tld))"},{"kind":1,"language":"markdown","value":"On notera que le champ tld apparait bien 0 fois au minimum, on ne change pas sa définition\r\n\r\n```DTD\r\n<!ELEMENT country(...,tld*,...)>\r\n```"},{"kind":2,"language":"xpath","value":"distinct-values(//country/count(altSpellings))"},{"kind":1,"language":"markdown","value":"- altSpelling n'apparait jamais 0 fois, on remplace * par un + à la fin\r\n```DTD\r\n<!ELEMENT country(...,altSpellings+,...)>\r\n```"},{"kind":2,"language":"xpath","value":"distinct-values(//country/count(infosContinent))"},{"kind":1,"language":"markdown","value":"infosContinent apparait une et une seule fois dans chaque country, on lui retire alors l'étoile\r\n```DTD\r\n<!ELEMENT country(...,infosContinent,...)>\r\n```"},{"kind":2,"language":"xpath","value":"distinct-values(//country/count(languages))"},{"kind":1,"language":"markdown","value":"languages apparait une et une seule fois par pays, on lui retire l'étoile aussi\r\n```DTD\r\n<!ELEMENT country(...,languages,...)>\r\n```"},{"kind":2,"language":"xpath","value":"distinct-values(//country/count(borders))"},{"kind":1,"language":"markdown","value":"borders apparait soit 0 soit 1 fois, l'étoile devient un \"?\"\r\n```DTD\r\n<!ELEMENT country(...,borders?,...)>\r\n```"},{"kind":2,"language":"xpath","value":"distinct-values(//country/count(coordinates))"},{"kind":1,"language":"markdown","value":"coordinates apparait une ou 0 fois, on remplace l'étoile par ?\r\n```DTD\r\n<!ELEMENT country(...,coordinates?,...)>\r\n``` "},{"kind":1,"language":"markdown","value":"# Step 3"}]